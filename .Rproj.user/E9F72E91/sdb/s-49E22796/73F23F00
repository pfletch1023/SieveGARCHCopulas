{
    "contents" : "# Paul Fletcher-Hill\n# ECON 371\n# Problem Set 2\n\n# Setup\nsetwd(\"~/Google Drive/ECON 371/ps2\")\nlibrary(fBasics)\nlibrary(fGarch)\nsource(\"~/Google Drive/ECON 371/scripts/garchM.R\")\nsource(\"~/Google Drive/ECON 371/scripts/Egarch.R\")\n\n# 3.5)  Consider the monthly simple returns of Intel stock from January\n#       1973 to December 2008 in m-intc7308.txt. Transform the returns\n#       into log returns. Build a GARCH model for the transformed series\n#       and compute 1-step- to 3-step-ahead volatility functions at the\n#       forecast origin December 2008.\n\n# Data url: http://faculty.chicagobooth.edu/ruey.tsay/teaching/fts3/m-intc7308.txt\nintel = read.table(\"m-intc7308.txt\", header=T)\nnames(intel) # (date, rtn)\nhead(intel)\nbasicStats(intel)\n\n# Transform into log returns (log.rtn column)\nintel$log.rtn <- log(intel$rtn + 1)\n\n# Plot\nts.plot(intel$log.rtn)\n\n# ACF, PACF plots\nacf(intel$log.rtn)\npacf(intel$log.rtn^2)\n\n# ARCH(3) fit\narch3.intel <- garchFit(~garch(3,0), data=intel$log.rtn)\nsummary(arch3.intel)\n# alpha2, alpha3 not significant\n\n# Fit Garch(1,1)\ngarch.intel = garchFit(~garch(1,1), data=intel$log.rtn)\nsummary(garch.intel)\n# omega, alpha1, beta1 all significant\n\n# n-step ahead predictions\nstep.ahead <- predict(garch.intel, n.ahead = 5) # 5-step-ahead forecast\nstep.ahead[1,'standardDeviation']^2 # volatility = 0.01401831\nstep.ahead[5,'standardDeviation']^2 # volatility = 0.01436028\n\n# 3.7)  The file m-3m4608.txt contains two columns. They are date and the monthly\n#       simple return for 3M stock. Transform the returns to log returns.\ndata <- read.table(\"m-3m4608.txt\", header=T)\nnames(data) # (date, rtn)\nhead(data)\ndata$log.rtn <- log(data$rtn + 1)\n\n# 3.7a) Is there any evidence of ARCH effects in the log returns? Use Ljung-Box\n#       statistics with 6 and 12 lags of autocorrelations and 5% significance level to\n#       answer the question.\nacf(data$log.rtn) # see spikes at 3, 6, 12\nBox.test(data$log.rtn, lag=6, type=\"Ljung\") # 6 lags of autocorrelation\n# p-value = 0.02968 (reject NULL hypo)\nBox.test(data$log.rtn, lag=12, type=\"Ljung\") # 12 lags of autocorrelation\n# p-value = 0.006143 (reject NULL hypo)\n# Rejecting NULL implies that autocorrelation at 6, 12 lags is\n# significantly different from zero\n\n# 3.7b) Use the PACF of the squared returns to identify an ARCH model. What \n#       is the fitted model?\npacf(data$log.rtn^2)\narch2.fitted <- garchFit(~garch(2,0), data=data$log.rtn)\nsummary(arch3.fitted)\n# Fitted model:\n# at = sigmat * et\n# sigmat^2 = omega + alpha1 * at-1^2 + alpha2 * at-2^2\n#          = 0.0032 + 0.078 * at-1^2 + 0.128 * at-2^2\n\n# 3.7c) There are 755 data points. Refit the model using the first 750 observations\n#       and use the fitted model to predict the volatilities for t from 751 to 755\n#       (the forecast origin is 750).\npacf(data$log.rtn[1:750]^2)\nfitted <- garchFit(~garch(1,1), data = data$log.rtn[1:750])\npredict(fitted, n.ahead = 5)[,'standardDeviation']^2\n\n# 3.7d) Build an ARCH-M model for the log return series of 3M stock. Test the hypothesis\n#       that the risk premium is zero at the 5% significance level. Draw your conclusion.\ngarchM(data$log.rtn) # ERROR\ngarchM(data$log.rtn*100) # NA values for gamma Std. Erro, t value, and p-value\n\n# 3.7e) Build an EGARCH model for the log return series of 3M stock using the first 750\n#       observations. Use the fitted model to compute 1-step- to 5-step-ahead volatility\n#       forecasts at the forecast origin h = 750.\nEgarch(data$log.rtn[1:750]) # ERROR\nEgarch(data$log.rtn[1:750]*100) # ERROR\nEgarch(data$rtn[1:750]) # ERROR\n\n",
    "created" : 1398841199057.000,
    "dirty" : false,
    "encoding" : "UTF-8",
    "folds" : "",
    "hash" : "1364424655",
    "id" : "73F23F00",
    "lastKnownWriteTime" : 1392101111,
    "path" : "~/Google Drive/ECON 371/ps2/ps2.R",
    "project_path" : null,
    "properties" : {
    },
    "source_on_save" : false,
    "type" : "r_source"
}